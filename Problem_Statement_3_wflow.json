with qry as(
select "select emp_sal.EmpID,salary from  gcp-project1-314218.dataset1a.emp_sal emp_sal inner join gcp-project1-314218.dataset1a.emp_det emp_det on emp_sal.EmpID=emp_det.empid" as tbl,
"select emp_sal.EmpID,salary from  gcp-project1-314218.dataset1a.emp_sal emp_sal inner join gcp-project1-314218.dataset1a.emp_det emp_det on emp_sal.EmpID=emp_det.empid" as col)
,stg1 as (select substring(substring(qry.tbl,instr(qry.tbl,'gcp')),1) extract1 from qry)
select substring(extract1,1,instr(extract1,' ')) from stg1
--select * from dataset1a.INFORMATION_SCHEMA.COLUMNS,qry where table_name= substring(qry.tbl,instr(qry.tbl,'from')+2)
